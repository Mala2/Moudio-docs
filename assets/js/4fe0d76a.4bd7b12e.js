"use strict";(self.webpackChunkmoudio_docs=self.webpackChunkmoudio_docs||[]).push([[3051],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),f=c(n),d=a,h=f["".concat(s,".").concat(d)]||f[d]||p[d]||i;return n?r.createElement(h,o(o({ref:t},u),{},{components:n})):r.createElement(h,o({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},9255:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return o},default:function(){return p},frontMatter:function(){return i},metadata:function(){return l},toc:function(){return c}});var r=n(3117),a=(n(7294),n(3905));const i={id:"battery-life",title:"Battery Life",sidebar_label:"Battery Life",slug:"/battery-life"},o=void 0,l={unversionedId:"battery-life",id:"battery-life",title:"Battery Life",description:"The battery life would be 150 minutes, or 2.5 hours. This is assuming that the battery has a capacity of 7500mA and the device consumes 50W of power at a voltage of 12V. It is also assuming that the device has an efficiency of 100%. It is important to note that this is a rough estimate and the actual battery life may vary depending on a variety of factors.",source:"@site/docs/battery-life.md",sourceDirName:".",slug:"/battery-life",permalink:"/Moudio-docs/docs/battery-life",draft:!1,editUrl:"https://github.com/Mala2/Moudio-docs/edit/main/docs/battery-life.md",tags:[],version:"current",frontMatter:{id:"battery-life",title:"Battery Life",sidebar_label:"Battery Life",slug:"/battery-life"},sidebar:"docs",previous:{title:"Create Your Own DSP",permalink:"/Moudio-docs/docs/create-DSP"},next:{title:"Schematics",permalink:"/Moudio-docs/docs/Schematics"}},s={},c=[{value:"3V3 Rail",id:"3v3-rail",level:2},{value:"Tips",id:"tips",level:2}],u={toc:c};function p(e){let{components:t,...i}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The battery life would be 150 minutes, or 2.5 hours. This is assuming that the battery has a capacity of 7500mA and the device consumes 50W of power at a voltage of 12V. It is also assuming that the device has an efficiency of 100%. It is important to note that this is a rough estimate and the actual battery life may vary depending on a variety of factors."),(0,a.kt)("p",null,"If the consumption is 20W, then the battery life would be 7500mA / 20W = 375 minutes, or about 6.25 hours. It's worth noting that this calculation assumes 100% efficiency, which is rarely the case in real-world situations. In reality, the battery life would likely be shorter than this. Additionally, other factors such as the battery's age, temperature, and discharge rate can also affect its capacity and therefore its actual runtime."),(0,a.kt)("h2",{id:"3v3-rail"},"3V3 Rail"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"3V3 Rail",src:n(7241).Z,width:"1056",height:"816"})),(0,a.kt)("h2",{id:"tips"},"Tips"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If the MouDio Speaker is not in use, it should be put into deep sleep mode in order to conserve battery power. The ESP32 is a powerful but power-hungry device, so leaving it idle can quickly drain the battery. By putting the device into deep sleep mode when it is not in use, the battery can last longer.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},"    void MouDio::deepSleep(){\n        esp_sleep_enable_ext0_wakeup(RTC_PIN, 0); //enable deep sleep wake on RTC interrupt\n        esp_sleep_enable_ext1_wakeup(BTN_PIN_MASK, ESP_EXT1_WAKEUP_ANY_HIGH); //enable deep sleep wake on button press\n        esp_deep_sleep_start();\n    }\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"ATmega328")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'\nvoid MouDio::sleep_CPU(void)\n{\n  TAS5825.sleep_AMP();\n  // Do not interrupt before we go to sleep, or the\n  // ISR will detach interrupts and we won\'t wake.\n  TAS5825.otg_off();\n\n  // will be called when pin D0 goes low\n  Serial.println("Sleep");\n  delay(100);\n  EIFR = bit (INTF0);\n\n  attachInterrupt (0, wake_CPU, CHANGE);\n  EIFR = bit (INTF0);\n  if (charge == 0) {\n    TAS5825.sleep_led();\n    EIFR = bit (INTF1);\n    attachInterrupt (1, wake_CPU_LED, CHANGE);\n  }\n  else {\n    EIFR = bit (INTF1);\n    attachInterrupt (1, wake_CPU_LED, RISING);\n  }\n  EIFR = bit (INTF1);  // clear flag for interrupt 0\n  // We are guaranteed that the sleep_cpu call will be done\n  // as the processor executes the next instruction after\n  // interrupts are turned on.\n  noInterrupts ();\n  //  ADCSRA = 0;   // disable ADC\n  set_sleep_mode (SLEEP_MODE_PWR_DOWN); // Deepest sleep mode (WDT wakes)\n  //  power_twi_disable(); // I2C off\n  sleep_enable();\n  interrupts ();  // one cycle\n  sleep_cpu ();   // one cycle\n  //  sleep_mode();        // Power-down MCU.\n\n}\n')))}p.isMDXComponent=!0},7241:function(e,t,n){t.Z=n.p+"assets/images/3V3-Rail-a173d7136ac70faf630093dff98c3f32.svg"}}]);